---
import navigation from '../data/navigation.json';
const currentPath = Astro.url.pathname;
---

<nav class="main-nav" role="navigation" aria-label="Navigation principale">
    <input type="checkbox" id="nav-toggle" class="nav-toggle-checkbox">
    <label for="nav-toggle" class="nav-toggle" aria-expanded="false" aria-controls="nav-menu">
        <span class="hamburger"></span>
        <span class="sr-only">Menu</span>
    </label>
    
    <ul class="nav-menu" id="nav-menu">
        {navigation.map(item => (
            <li>
                <a 
                    href={item.url} 
                    class={`nav-link ${currentPath === item.url ? 'active' : ''}`}
                    aria-current={currentPath === item.url ? 'page' : undefined}
                >
                    {item.title}
                </a>
            </li>
        ))}
    </ul>
</nav>
