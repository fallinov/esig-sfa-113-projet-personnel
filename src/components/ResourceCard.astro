---
export interface Props {
  title: string;
  description: string;
  link: string;
  priority: 'essentiel' | 'recommandÃ©' | 'bonus';
  icon?: string;
  meta?: Array<{label: string, value: string}>;
  external?: boolean;
}

const { 
  title, 
  description, 
  link, 
  priority, 
  icon = 'ðŸ“š', 
  meta = [], 
  external = true 
} = Astro.props;

const priorityClass = priority.toLowerCase();
const linkProps = external ? { target: '_blank', rel: 'noopener' } : {};
---

<div class="resource-card">
    <span class={`priority ${priorityClass}`}>{priority.toUpperCase()}</span>
    <div class="card-icon">{icon}</div>
    <h3>{title}</h3>
    <p>{description}</p>
    
    {meta.length > 0 && (
        <div class="resource-meta">
            {meta.map(item => (
                <span class="meta-item">
                    {item.label} {item.value}
                </span>
            ))}
        </div>
    )}
    
    <a href={link} class="resource-link external" {...linkProps}>
        AccÃ©der
    </a>
</div>
